import { Client } from ".";
import "isomorphic-fetch";
import { SimpleAuthenticationProvider } from "./authentication/SimpleAuthentication/SimpleAuthenticationProvider";

const token = "eyJ0eXAiOiJKV1QiLCJub25jZSI6IlNQQ19OTTNkVUdzRDZ4TzJjczRNcmdXb1BhWGFZdUNjSFVlSDFtOThYUTgiLCJhbGciOiJSUzI1NiIsIng1dCI6ImpTMVhvMU9XRGpfNTJ2YndHTmd2UU8yVnpNYyIsImtpZCI6ImpTMVhvMU9XRGpfNTJ2YndHTmd2UU8yVnpNYyJ9.eyJhdWQiOiIwMDAwMDAwMy0wMDAwLTAwMDAtYzAwMC0wMDAwMDAwMDAwMDAiLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC9kNGNjN2E0Mi0zYzQ0LTQ0ZjMtYWFmMy02NjYzMDJhZWFiMDgvIiwiaWF0IjoxNjQ3MzI0MjM2LCJuYmYiOjE2NDczMjQyMzYsImV4cCI6MTY0NzMyOTAzNSwiYWNjdCI6MCwiYWNyIjoiMSIsImFpbyI6IkFTUUEyLzhUQUFBQXhndXhkSlMvanNrZTBjMTFqak9tZVRhU0FVc0VYaHJsdUIwWHVPTnB6T0E9IiwiYW1yIjpbInB3ZCJdLCJhcHBfZGlzcGxheW5hbWUiOiJHcmFwaCBFeHBsb3JlciIsImFwcGlkIjoiZGU4YmM4YjUtZDlmOS00OGIxLWE4YWQtYjc0OGRhNzI1MDY0IiwiYXBwaWRhY3IiOiIwIiwiZmFtaWx5X25hbWUiOiJDaGV0dGlhciIsImdpdmVuX25hbWUiOiJ6eWF5YWwiLCJpZHR5cCI6InVzZXIiLCJpcGFkZHIiOiI3My4xNjkuMTQ4LjcyIiwibmFtZSI6Ik5pa2l0aGEgVWRheWt1bWFyIENoZXR0aWFyIiwib2lkIjoiODEzOTU2YTMtNGEzMC00NTk2LTkxNGYtYmZkODZhNjU3YTA5IiwicGxhdGYiOiIzIiwicHVpZCI6IjEwMDMyMDAwRDI4NEZBQ0EiLCJwd2RfZXhwIjoiMCIsInB3ZF91cmwiOiJodHRwczovL3BvcnRhbC5taWNyb3NvZnRvbmxpbmUuY29tL0NoYW5nZVBhc3N3b3JkLmFzcHgiLCJyaCI6IjAuQVZrQVFuck0xRVE4ODBTcTgyWmpBcTZyQ0FNQUFBQUFBQUFBd0FBQUFBQUFBQUJaQUJVLiIsInNjcCI6IkNhbGVuZGFycy5SZWFkIENhbGVuZGFycy5SZWFkV3JpdGUgQ29udGFjdHMuUmVhZCBDb250YWN0cy5SZWFkV3JpdGUgRGlyZWN0b3J5LkFjY2Vzc0FzVXNlci5BbGwgRGlyZWN0b3J5LlJlYWQuQWxsIERpcmVjdG9yeS5SZWFkV3JpdGUuQWxsIEVudGl0bGVtZW50TWFuYWdlbWVudC5SZWFkV3JpdGUuQWxsIEZpbGVzLlJlYWQgRmlsZXMuUmVhZC5BbGwgRmlsZXMuUmVhZFdyaXRlIEZpbGVzLlJlYWRXcml0ZS5BbGwgR3JvdXAuUmVhZC5BbGwgR3JvdXAuUmVhZFdyaXRlLkFsbCBNYWlsLlJlYWQgTWFpbC5SZWFkLlNoYXJlZCBNYWlsLlJlYWRCYXNpYyBNYWlsLlJlYWRXcml0ZSBNYWlsLlJlYWRXcml0ZS5TaGFyZWQgTWFpbC5TZW5kIE1haWxib3hTZXR0aW5ncy5SZWFkV3JpdGUgTm90ZXMuQ3JlYXRlIE5vdGVzLlJlYWQgTm90ZXMuUmVhZC5BbGwgTm90ZXMuUmVhZFdyaXRlIE5vdGVzLlJlYWRXcml0ZS5BbGwgb3BlbmlkIE9yZ0NvbnRhY3QuUmVhZC5BbGwgUGVvcGxlLlJlYWQgUGVvcGxlLlJlYWQuQWxsIFByaW50ZXIuRnVsbENvbnRyb2wuQWxsIFByaW50ZXIuUmVhZC5BbGwgUHJpbnRlci5SZWFkV3JpdGUuQWxsIFByaW50ZXJTaGFyZS5SZWFkLkFsbCBQcmludGVyU2hhcmUuUmVhZFdyaXRlLkFsbCBwcm9maWxlIFJlcG9ydHMuUmVhZC5BbGwgU2l0ZXMuRnVsbENvbnRyb2wuQWxsIFNpdGVzLk1hbmFnZS5BbGwgU2l0ZXMuUmVhZC5BbGwgU2l0ZXMuUmVhZFdyaXRlLkFsbCBUYXNrcy5SZWFkIFRhc2tzLlJlYWQuU2hhcmVkIFRhc2tzLlJlYWRXcml0ZSBUYXNrcy5SZWFkV3JpdGUuU2hhcmVkIFVzZXIuUmVhZCBlbWFpbCIsInNpZ25pbl9zdGF0ZSI6WyJrbXNpIl0sInN1YiI6InRvcGgxMmFFWTJaVzh3b3MzWTYxaVpXMmo5aTU1T2trTFlkQU9PYnRaSHMiLCJ0ZW5hbnRfcmVnaW9uX3Njb3BlIjoiTkEiLCJ0aWQiOiJkNGNjN2E0Mi0zYzQ0LTQ0ZjMtYWFmMy02NjYzMDJhZWFiMDgiLCJ1bmlxdWVfbmFtZSI6Im5jaGV0dGlhQGdyYXBoanNkZW1vLm9ubWljcm9zb2Z0LmNvbSIsInVwbiI6Im5jaGV0dGlhQGdyYXBoanNkZW1vLm9ubWljcm9zb2Z0LmNvbSIsInV0aSI6IjFKd1RFcW5HLTA2RTdTbHN5ZEh6QUEiLCJ2ZXIiOiIxLjAiLCJ3aWRzIjpbIjYyZTkwMzk0LTY5ZjUtNDIzNy05MTkwLTAxMjE3NzE0NWUxMCIsImI3OWZiZjRkLTNlZjktNDY4OS04MTQzLTc2YjE5NGU4NTUwOSJdLCJ4bXNfc3QiOnsic3ViIjoiTVpCVElBUEFjS1E0T0pMbkRHc0VuRGR6MTZBczZmRS0ydDVlXy02Q3VUSSJ9LCJ4bXNfdGNkdCI6MTU5NTUzNDgzMX0.WfJgS5WEBAWuGSMbG4BU4gb0FYzmexlGpoX-LsiUg-SJf8_9a1AVOcepTFqaf3kSend5_sf8OMPyr4gsKHnOKf1E5plbofKpkcf9zatml-YkliusE0XxubXej_YazS4lm-Ng9wYadaTqn1PMrvF33sA857Hj20Rpjbzs-E6hkmbjEPAvaVYJYouHYD2QSPd6WS0uhjHKHMlsXiiCptMMM8yuRG4lsviNdExCFeKiR26EsjCcUGCKaRgLENNVsnF5Q9k2vCDrdHxrJhkrJX1qPF6hzr-aVm9mkB2PbX0lMkSwA4SRIqT1E3X9HK-Y1ad1Sm6e-O0nffo2p-D5yw2JMA";
const simpleAuthenticationProvider = new SimpleAuthenticationProvider(async () => { return token;});
const client = Client.init({
    authProvider: simpleAuthenticationProvider
});

client.api('/me').get().then(res => {
    console.log(res);
});


const graphRequest = client.api("/me").select("displayName").count(true).headers({}).get();